{"version":3,"sources":["public/javascript/src/app.js"],"names":[],"mappings":";;AAEA,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,iBAAe,EAAE,2BAAW;AAC1B,WAAO,EAAC,IAAI,EAAE,EAAE,EAAC,CAAC;GACnB;AACD,wBAAsB,EAAE,kCAAW;AACjC,KAAC,CAAC,IAAI,CAAC;AACL,SAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;AACnB,cAAQ,EAAE,MAAM;AAChB,WAAK,EAAE,KAAK;AACZ,aAAO,EAAE,CAAA,UAAS,IAAI,EAAE;AACtB,YAAI,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;OAC7B,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;AACZ,WAAK,EAAE,CAAA,UAAS,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE;AAChC,eAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;OACrD,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;KACb,CAAC,CAAC;GACJ;AACD,qBAAmB,EAAE,6BAAS,OAAO,EAAE;AACrC,QAAI,QAAQ,GAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AAClC,QAAI,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAC7C,QAAI,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;AACnC,KAAC,CAAC,IAAI,CAAC;AACL,SAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;AACnB,cAAQ,EAAE,MAAM;AAChB,WAAK,EAAE,KAAK;AACZ,UAAI,EAAE,MAAM;AACZ,UAAI,EAAE,OAAO;AACb,aAAO,EAAE,CAAA,UAAS,IAAI,EAAE;AACtB,YAAI,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;OAC7B,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;AACZ,WAAK,EAAE,CAAA,UAAS,GAAG,EAAE,MAAM,EAAE,GAAG,EAAC;AAC/B,eAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;OACrD,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;KACb,CAAC,CAAC;GACJ;AACD,mBAAiB,EAAE,6BAAW;AAC5B,QAAI,CAAC,sBAAsB,EAAE,CAAC;AAC9B,eAAW,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;GACnE;AACD,QAAM,EAAE,kBAAW;AACjB,WACE;;QAAK,SAAS,EAAC,SAAS;MACtB;;;;OAAiB;MACjB,oBAAC,WAAW,IAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC,GAAG;MACtC,oBAAC,WAAW,IAAC,eAAe,EAAE,IAAI,CAAC,mBAAmB,AAAC,GAAG;KACtD,CACN;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,QAAM,EAAE,kBAAW;AACjB,QAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,OAAO,EAAC;AACvD,aACE;AAAC,eAAO;UAAC,MAAM,EAAE,OAAO,CAAC,MAAM,AAAC;QAC7B,OAAO,CAAC,IAAI;OACL,CACV;KACH,CAAC,CAAC;AACH,WACE;;QAAK,SAAS,EAAC,eAAe;MAC3B,YAAY;KACT,CACN;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,cAAY,EAAE,sBAAS,CAAC,EAAE;AACxB,KAAC,CAAC,cAAc,EAAE,CAAC;;AAEnB,QAAI,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;AAC9D,QAAI,IAAI,GAAK,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;;AAE5D,QAAG,CAAC,MAAM,IAAI,CAAC,IAAI,EAAC;AAClB,aAAO;KACR;;AAED,QAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;;AAEzD,SAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;AAC/C,SAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;;AAE7C,WAAO;GAER;AACD,QAAM,EAAE,kBAAW;AACjB,WACE;;QAAM,SAAS,EAAC,eAAe,EAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,AAAC;MAC1D,+BAAO,IAAI,EAAC,MAAM,EAAC,WAAW,EAAC,eAAe,EAAC,GAAG,EAAC,QAAQ,GAAG;MAC9D,+BAAO,IAAI,EAAC,MAAM,EAAC,WAAW,EAAC,mBAAmB,EAAC,GAAG,EAAC,MAAM,GAAE;MAC/D;;UAAQ,IAAI,EAAC,QAAQ;;OAAmB;KACnC,CACP;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,QAAM,EAAE,kBAAW;AACjB,QAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;AACzE,WACE;;QAAK,SAAS,EAAC,eAAe;MAC5B;;UAAI,SAAS,EAAC,iBAAiB;QAC5B,IAAI,CAAC,KAAK,CAAC,MAAM;OACf;MACL,8BAAM,uBAAuB,EAAE,EAAC,MAAM,EAAE,SAAS,EAAC,AAAC,GAAG;KAClD,CACN;GACH;CACF,CAAC,CAAC;;AAEH,KAAK,CAAC,MAAM,CACV,oBAAC,UAAU,IAAC,GAAG,EAAC,eAAe,EAAC,YAAY,EAAE,IAAI,AAAC,GAAG,EACtD,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CACnC,CAAC","file":"public/javascript/src/app.js","sourcesContent":["\n\nvar CommentBox = React.createClass({\n  getInitialState: function() {\n    return {data: []};\n  },\n  loadCommentsFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      cache: false,\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.log(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  handleCommentSubmit: function(comment) {\n    var comments    = this.state.data;\n    var newComments = comments.concat([comment]);\n    this.setState({data: newComments});\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      cache: false,\n      type: 'POST',\n      data: comment,\n      success: function(data) {\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err){\n        console.log(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  componentDidMount: function() {\n    this.loadCommentsFromServer();\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n  },\n  render: function() {\n    return (\n      <div className=\"comment\">\n        <h1>Comments</h1>\n        <CommentList data={this.state.data} />\n        <CommentForm onCommentSubmit={this.handleCommentSubmit} />\n      </div>\n    );\n  }\n});\n\nvar CommentList = React.createClass({\n  render: function() {\n    var commentNodes = this.props.data.map(function (comment){\n      return (\n        <Comment author={comment.author}>\n          {comment.text}\n        </Comment>\n      );\n    });\n    return (\n      <div className=\"comment__list\">\n        {commentNodes}\n      </div>\n    );\n  }\n});\n\nvar CommentForm = React.createClass({\n  handleSubmit: function(e) {\n    e.preventDefault();\n\n    var author = React.findDOMNode(this.refs.author).value.trim();\n    var text   = React.findDOMNode(this.refs.text).value.trim();\n\n    if(!author || !text){\n      return;\n    }\n\n    this.props.onCommentSubmit({author: author, text: text});\n\n    React.findDOMNode(this.refs.author).value = '';\n    React.findDOMNode(this.refs.text).value = '';\n\n    return;\n\n  },\n  render: function() {\n    return (\n      <form className=\"comment__form\" onSubmit={this.handleSubmit}>\n        <input type=\"text\" placeholder=\"Say your name\" ref=\"author\" />\n        <input type=\"text\" placeholder=\"Say what you want\" ref=\"text\"/>\n        <button type=\"submit\">Send it !</button>  \n      </form>\n    );\n  }\n});\n\nvar Comment = React.createClass({\n  render: function() {\n    var rawMarkup = marked(this.props.children.toString(), {sanitize: true});\n    return (\n      <div className=\"comment__item\">\n        <h2 className=\"comment__author\">\n          {this.props.author}\n        </h2>\n        <span dangerouslySetInnerHTML={{__html: rawMarkup}} />\n      </div>\n    );\n  }\n});\n\nReact.render(\n  <CommentBox url=\"comments.json\" pollInterval={5000} />,\n  document.getElementById('content')\n);"]}